# SQL문
- NoSQL개념이 뜨고있지만 대부분 IT서비스 데이터가 저장되는 곳은 관계형 데이터베이스(RDB)인데, 해당 DB에 접근할수 있는 프로그래밍 언어가 SQL(Structured Query Launguange:구조화된 질의 언어) 문 . 데이터가 저장된 곳에 특정 조건을 만족하는 조회하는 부분을 옜날엔 개발팀에서 했다. 
- 마케팅부서에서 프로모샨기간동안 매출증가 자료를 개발팀에 요청 
- 개발팀은 해당 자료에대한 sql문을 조작해서 실행한 다음 필요 데이터를 뽑아내서 회신하는 과정을 거쳤는데 최근엔 개발직군이아닌 sql을 직접다루는 방식으로 스스로처리가능
- 컴퓨터에게 데이터를 가져오라는 일을 시킬 때 그 형식이 어느정도 정해져 있는 질의 언어로 컴퓨터에게 잘 시키는 언어...
- 기본적으로 RDB를 다루기 위해 고안된 언어이기 때문에 NoSQL에서는 조금 다른 방식으로 작동하는 경우가있다..
NoSQL -1. 아에SQL을 안씀 2. NOT ONly sql - sql문만 써서 데이터베이스를 다루는게아니다. 그러다보니 개발자직군은 일반직군으로 내려온 sql으로 RDB다루기+NoSQL 역량이필요

-SELECT *
  FROM table_table
  ;
  간단한SQL연습 https://www.w3schools.com/

# 원하는 데이터를 가지고오고 필터링 하기
- 기본적으로 SQL역량은 탑재한다...
- 그래서 특정 대출자료를 분석하고 시각화해서 브리핑하면서 인사이트를 얻을 수 있도록보조한다..
 데이터 처리 요소
생성/조회/수정/삭제 -CRUD
DROP 열 테이블 통재로
SQL뿐 아니라 다른 프로그래밍언어에도 데이터 처리 개념자체는 존재한다. SQL은 관계형 데이터베이스 RDB의 데이터를 다루는 주요 언어에 해당한다.
- SQL종류
1. DML(Data Munipulation language) 데이터조작어
'SELECT...FROM..WHERE,
INSERT..INTO...VALUE..,
DELECT..FROM..WHRER,
UPDATE.SET' 
2. DDL(Data Definitaion Language) RDB내의 저장단위인 테이블과 컬럼을 정의하고 관리하는 명령어,

- 기본적으로 더미 데이터를 가지고있는 상황에서 다양한 조건에 해당하는 데이터들을 필터링해서 가지고오는 부분에 초점을 맞출 예정
SQL언어
*DDL데이터정의어                                   
CAD
CREATE
ALTER
Drop...
3. DCL (Data Control Language)관리 목적으로 DB에 접근하려는 사용자의 권한을 관리하거나 보안과 관련된기능.
*DCL 데이터통제 
GRANT권한부여 REBOKE권한 뺏음 UNDO권한취소 REDO 재시도
*ROLLBACK *COMMIT

4. TCL ( Transaction Control Language) 
데이터베이스를 조작하는 명령단위인 트랜잭션을 제어하고 관리
*ROLLBACK - 되돌리다.
*COMMIT - 추가?

## 
-기본키,외래키,후보키,슈퍼키,대체키
-데이터베이스(DB) 데이터를 저장하고 관리하는 시스템 고객정보 주문내역 재고관리등의 정보저장
-관계형 데이터베이스: 데이터를 테이블 형태로 관리하는 데이터베이스 , 각 테이블은 서로 키를 기반으로 특정관계로 연결되었다. 가장널리사용된다.
-테이블: RDB내에서 행과 열로 구성된 데이터를 저장하는 기본단위 엑셀을 하나의 DB라고본다면 SHEET는 하나의 테이블이라한다.
-각 테이블은 고유한 식별자인 기본키를 가지고있는데 기본키는 테이블내에서 각 행을 고유하게 식별하기위해 사용된다.
또한 테이블간위 관계를 맺을때는 외래키를사용한다.
-컬럼:테이블에서 하나의 속성에 해당하는 데이터를 저장하는 공간으로 세로줄인 열에 해당한 . 컬럼에는 컬럼의 이름,데이터타입, 크기 제약 조건 등이 정의가된다.

```JAVA
public class Person{
  private Sring name;
  private Integer student;
}

```
라는 클래스가있다면 이를 객체생성하고, DB에 저장했다면 PERSON테이블에 각 컬럼이 name/student가 된다. 그니까 컬럼명이 필드가될텐데 각 컬럼이가지는 제약조건으로 설정된것이 private이고 데이터타입이 String Integer가된다.

-행 row 테이블에서 가로줄 SQL에서 레코드라고 부르기도한다.
테이블에서 하나의 개별 데이터 단위를 나타내며 특정 데이터가 저장되고 조화될떄 ROW단위로이루어짐
```JAVA
public class Main{
    public static void main(string[] args){
      Person Person1 = new Person('김일',20260205);
    }
}
```
라고 객체생성했을때 person테이블에 김일 20260205라는 row가 하나 생긴다. 즉 위에적엇던 record라는 가로줄하나는 java적으로 봤을때 테이블/클래스명을 지니는 person클래스의인스턴스에 해당......

# 기본키,외래키,후보키,슈퍼키,대체키

1. 기본키 : 테이블에서 각 행을 고유하게 식별할수있는 값. 기본 키는 하나가 아닌 여러 값의 
조합으로 이루어지는 것도가능. 이러한 기본키는 테이블내에서 중복되지않는 유일한값을가짐
2. 외래키 : 기본키가 다른키에서 사용된다. 다른 테이블의 기본키와 매칭되어 해당 테이블과의 관계를 정의한다. 다른
테이블의 기본 키 값을 가져와서 컬럼을 구성하며 이후 테이블끼리 결합할때 사용한다 일반적으로 다른 테이블의 기본키와 같은 데이터 타입 크기를 갖는다 자료형이 동일하다는것... 기본키는 정수. 외래키로쓸때는 long없이쓸수없다.

- 카디널리티-튜플-기수-행 , 디그리-속성-열-차수  : 카튜기행, 디속열차 이렇게외웠어 




*DML 데이터조작어
SIDU 
SELECT...FROM..WHERE,
INSERT..INTO...VALUE..,
DELECT..FROM..WHRER,
UPDATE.SET               
*DCL 데이터통제 
GRANT권한부여 REBOKE권한 뺏음 UNDO권한취소 REDO 재시도
*ROLLBACK *COMMIT

# SELECT문
SECLT
FORM
WHERE~
- '무엇'을 가져와야하는지에 해당한다. 데이터적으로는 '어떤' 데이터를 보여줄지 지정한다. 

```sql
SELECT 'HELLO SQL' 

```
- select문의 경우 어느 컬럼을 보여줄지 지정하는 역할을 한다 from절을 작성하지않은 상태에서 select뒤에 적은 문자열을 기준으로 컬럼명을 생성하고 내부에 row를 그대로 보여준다.

*참고 : 대소문자 구분x하지만 시험에서 보통 sql명령문은 대부분 대문자로 작성하기에 md파일에 대문자로 sql문을 데이터를 소문자로 작성

```sql
SELECT 'Hello, SQL!';  여기서는 STR이아닌 VARCHAR입니다.


```
데이터 조회를 시작할 때 늘 SELECT로 시작하기 때문에 CRUD중 R업무를 시작한다고봐도된다.

```SQL
SELECT 12+7;

```

-AS 별칭 별명붙이기 이름붙이기 이름표붙이기...- 컬럼명을 지정할 때 작성하는 방식.

```SQL
  SELECT 'Hello, SQL' AS 인사;

```

- 결과창의 첫 행에 각각 Find / Insight/ With SQL이라는 문구가 나올수있도록 SQL작성 제목을나타내는 컬럼명은 각각 순서대로 First,Second,Third로 작성 다수의 내용을 표기할땐 ','로 표시

AS가 없어도 그냥 나오기는 하지만 FROM절을 이용해서 TABLE을 조회할거임... 다만 '컬럼명'을 바꿀 수 있다는 점은 집계함수의 적용여부랑 협쳐져서 중요.

- 1. SELECT활용 28+891 결과표시
  2. 19*27 표시
  3. 세가지 결과를 각기 다른 컬럼으로 켤과창에표시
    - 37+172(컬럼명 Plus) 
    - 25*78
    - I love SQL!

```SQL
SELECT 28+891;
SELECT 19*27;
SELECT 'I love SQL!';
SELECT 
		37+172 AS 'Plus', 
		25*78  AS 'Times',
		'I love SQL!' AS 'Result';
```

# FROM
SECLT
FORM
WHERE~

1. 

```SQL
SELECT *
  FROM users
  ;
```

`*` : 별표 /와일드카드/ 애스터리스크라고불리며 테이블내의 모든 컬럼을 지시한다. (나중에 java/springboote에도 나온다)
- python hangman할 때도 import때 사용했음

- `*` 는 패턴매칭에서 하나 이상의 문자를 대체할수있는 기호를의미한다. 패턴매칭이랑 문자열 파일 데이터등에서 주어진패턴이나
규칙에 맞는 부분을 찾아내는 과정으로 예들들어 `*.text` 라면 모든 text파일 확장자를 지닌 애들은 가리킨다........

# 일부데이터만 보고싶을때
개행과 들여쓰기는 파이썬과 달리 아무런 영향을끼치지않는다..... 가독성때문에 사용하는것이므로 유연하게사용하면된다.

LIMIT 3 OR TOP3 
3개만가지고옴

전체데이터가 아니라 일부데이터만 가지고오기 위해서 개수를 지정하는 명령어로 LIMIT를 쓴다 어느곳에서는 TOP을쓰기도함

FULL SCAN : 특정 테이블의 모든 정보를 조회하는 것으로 모의데이터를 쓰지만 인스타그램 회원정보를 풀스캔한다고하면 컴퓨터에 부담이간다. 단순히 데이터를 파악하고싶다면 LIMIT/TOP을쓰는습관을들이는것이좋다.........

1. orderdetails테이블의 전체컬럼을 표시
2. users에서 상위 7건만 표시
3. orders에서 주문아이디/회원아이디/주문일자 컬럼의 모든데이터표시
```sql

SELECT *
	FROM orderdetails
	; 
  	  
SELECT *
	FROM users
	LIMIT 7
	;
	
SELECT
	'id','user_id','order_date'
	FROM Orders
	

```

# WHERE
1. 어떤것을 고를지설명. 
  - SELECT / FROM에서 보여줄 내용을 지정하고 가져올 테이블을 정했는데 LIMIT를 통해 일부개수만 가지고오는방식이아닌
    어떤컬럼의 값이 A인것만 가져온다던지 성별이 여자인회원의 정보만 가져온다던디 등.... 일종의 Firer를 거쳐야하는 경우가 있다. 이럴때 사용하는게 where이다... 일종의조건절
2. SELECT절에서는 세로 부분인 컬럼을 제어했다면(필요 컬럼만 뽑아낼 수 있었다.) WHERE절에서는 특정 (가로)ROW만 가지고올수있다.       
3. 회원정보테이블에서 거주 국가가 Korea인 회원만 검색

-*** 데이터 전처리 ***
혹시 회원이 Republic of Korea로 등록했는지/ South Korea로 등록했는지 아니면 Korea로했는지 등...

```sql
SELECT *
	FROM users
	WHERE country ='Korea'; 

```
아닌것
```sql
SELECT *
	FROM users
	WHERE country !='Korea'; 

```

- '!'가 NOT연산을 한다 
- 논리연산자 'AND','OR'존재

*

users에서 가입일시가
2010-12-01부터 2012-01-01인 회원정보출력하기
```SQL
SELECT *
	FROM users
	WHERE created_at BETWEEN '2010-01-01' AND '2012-01-01';

```
- 'BETWEEN'은 시작날짜와 종료날짜 를 포함한 그 사이의 값을 조회한다. CREATED_AT의 결과값들을 확인해보면 YYYY-MM-DD HH:MM:SS로 되어있는데 조건을 '년월일'까지만 작성한다면 시/분/초 조건을 0으로 인식하여 계산한다............

- 회원정보테이블에서 가입일시가 ....


- 문제: Users에서 거주 국가가 Korea이거나 UK이거나 USA인 것 검색

*참고 : AND /OR중에 AND가 더 우선순위가높다.
 우선순위가 높다는것은 WHERE절 내에서 실행되는 순서가 더 빠르다는 것이다. 그래서 AMD/OR한 WHERE절 내에서 동시에 작성ㅎ랄경우 AND조건이 먼저실행된다.

 - `!`만 있는게 아닌 `NOT`도 존재

 ```SQL
SELECT *
	FROM users
	WHERE country NOT IN ('KOREA','UK','USA');  
 ```

```SQL
SELECT *
	FROM users
	WHERE country LIKE 'S%';  	  	  	  
```
```SQL
SELECT *
	FROM users
	WHERE country LIKE 'U_';  	  
	  	  	  
```
- _ 언더바는 문자하나를 대신함
- 

- 'LIKE' WHERE조건문을 작성할 떄 일부패턴에 일치하는데이터만검색할수있다는 점.. LIKE뒤의 ''/'' 뒤에서는 와일드카드를
사용할 수 있는데 



```SQL
SELECT *
	FROM users
	WHERE created_at IS NULL ;
	

```
-  'IS NOT NULL' = 비어있지않은것

- 'NULL' = 비어있는값 (값이없는상태) 아무런값도 없다는의미 

- IS : NULL은 0도 아니고 ''도 아니기때문에 어떤조건값으로도 _조회할수없다_ 이러한 NULL값을 필터링할 때 쓰이는 조건연산자가 IS이다...
```SQL
SELECT *
	FROM users
	WHERE created_at IS NOT NULL ;
	
```
1. 유저에서 거주국가가 멕시코인 회원정보를
 가입일시 연락처 거주도시 거주국가 출력


2. 번문제 AS쓰는방법입니다. SELECT옆에 *,쓰고 (price-discount_price)AS discount_amount쓰기
```sql
SELECT *, (price-discount_price)AS discount_amount
	FROM products
	WHERE id <= 20 AND price >= 30;
```
















# INSERT문

# INSERT..INTO...VALUE.. 
- 